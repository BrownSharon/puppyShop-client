<mat-sidenav-container>
    <mat-sidenav #sidenav mode="side" opened [fixedInViewport]="options.value.fixed">
        <div class="main" [ngSwitch]="_user.activeComponent">
            <app-product-form *ngSwitchCase="'admin'"></app-product-form>
            <app-cart *ngSwitchDefault></app-cart>
        </div>
    </mat-sidenav>

    <mat-sidenav-content [formGroup]="options">
        <nav>
            <p *ngIf='_user.user.role === 2'><button mat-button
                    (click)="sidenav.toggle(); cartViewStatus=!cartViewStatus">
                    <div class="cartToggle">
                        <p class="numberCartItems" *ngIf='cartViewStatus && _carts.cartItemsArr.length > 0 '>{{_carts.cartItemsArr.length}}</p>
                        <mat-icon *ngIf='!cartViewStatus'>keyboard_arrow_left</mat-icon>
                        <mat-icon>shopping_cart</mat-icon>
                        <mat-icon *ngIf='cartViewStatus'>keyboard_arrow_right</mat-icon>
                        <p class="numberCartItems" *ngIf='!cartViewStatus && _carts.cartItemsArr.length > 0'>{{_carts.cartItemsArr.length}}</p>
                    </div>
                </button></p>
            <mat-form-field appearance="outline" class="search">
                <mat-label>Search</mat-label>
                <input matInput type="search" placeholder="Enter product name"
                    (input)="searchForProduct($event.target.value)" />
                <span class="material-icons" matSuffix>
                    search
                </span>
            </mat-form-field>
            <button mat-button *ngFor="let category of _products.productsCategoriesArr" id="btn{{category.id}}"
                (click)="getCategoryItems(category.id)">{{category.name}}</button>
        </nav>

        <div class="productList" *ngIf="!emptySearchError">
            <app-product-item *ngFor="let product of _products.productsItemsFilteredArr" [product]="product">
            </app-product-item>
        </div>
        <div class="emptyProduct" *ngIf="emptySearchError">
            <h3>
                We haven't got product that matching your search
            </h3>
            <h4>
                Try something else
            </h4>
        </div>

    </mat-sidenav-content>

</mat-sidenav-container>
